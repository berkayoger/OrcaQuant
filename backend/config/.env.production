# Production ortamı - Güvenlik odaklı konfigürasyon
# UYARI: Hassas değerleri Docker secrets veya ortam değişkenleri ile verin!
YTD_ENV=production
YTD_DEBUG=false

# CORS Configuration (Production)
# ÖNEMLI: Gerçek domain'lerinizi buraya yazın, wildcard (*) kullanmayın!
YTD_CORS_ALLOW_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
YTD_CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
YTD_CORS_ALLOW_HEADERS=Content-Type,Authorization,X-CSRF-Token,X-Request-Id
YTD_CORS_EXPOSE_HEADERS=X-RateLimit-Remaining,X-Request-Id
YTD_CORS_SUPPORTS_CREDENTIALS=true
YTD_CORS_MAX_AGE=86400

# Rate Limiting (Stricter in production)
YTD_RATE_LIMIT_DEFAULT=100/minute
YTD_RATE_LIMIT_LOGIN=5/minute
YTD_RATE_LIMIT_CSRF_TOKEN=50/minute
YTD_RATE_LIMIT_HEADERS_ENABLED=true
YTD_RATE_LIMIT_STRATEGY=fixed-window-elastic-expiry
# Production load balancer/proxy IPs
YTD_RATE_LIMIT_WHITELIST=10.0.0.0/8,172.16.0.0/12

# Security & Banning (Aggressive in production)
YTD_AUTO_BAN_THRESHOLD=50
YTD_AUTO_BAN_DURATION_SECONDS=3600
YTD_SUSPICIOUS_ACTIVITY_THRESHOLD=20

# CSRF Protection (Enforced)
YTD_CSRF_ENABLED=true
YTD_CSRF_COOKIE_NAME=XSRF-TOKEN
YTD_CSRF_HEADER_NAME=X-CSRF-Token
YTD_CSRF_TIME_LIMIT_SECONDS=1800
YTD_CSRF_PROTECT_METHODS=POST,PUT,PATCH,DELETE
YTD_CSRF_EXEMPT_ENDPOINTS=/api/v1/auth/login,/api/v1/auth/register

# Session & Cookies (Secure)
YTD_SESSION_COOKIE_NAME=ytd_session
YTD_SESSION_COOKIE_SECURE=true
YTD_SESSION_COOKIE_SAMESITE=Strict
YTD_SESSION_COOKIE_HTTPONLY=true
YTD_SESSION_LIFETIME_HOURS=8
YTD_REMEMBER_COOKIE_DURATION_DAYS=7

# JWT Configuration (Short-lived tokens)
YTD_JWT_ACCESS_TOKEN_EXPIRES_HOURS=1
YTD_JWT_REFRESH_TOKEN_EXPIRES_DAYS=7
YTD_JWT_KEY_VERSION=1

# API Security
YTD_API_REQUIRE_AUTH=true
YTD_API_KEY_HEADER=X-API-Key
YTD_MAX_CONTENT_LENGTH_MB=8

# Security Headers (Enforced)
YTD_FORCE_HTTPS=true
YTD_STRICT_TRANSPORT_SECURITY=true
YTD_STRICT_TRANSPORT_SECURITY_MAX_AGE=63072000

# These MUST be provided via secure methods (Docker secrets, K8s secrets, etc.):
# YTD_SECRET_KEY=<64-char-random-key>
# YTD_JWT_SECRET=<64-char-random-key>
# YTD_DATABASE_URL=postgresql+psycopg2://user:pass@db:5432/ytd_prod
# YTD_REDIS_URL=redis://redis:6379/0
# YTD_TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
